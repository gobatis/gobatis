<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//gobatis.co//DTD Mapper 1.0//EN" "gobatis.co/dtd/mapper.dtd">

<mapper>
    <save id="SaveE001" parameter="user">
        <bind name="table" value="'users'"/>
        <statement type="INSERT" test="user.Id == 0 ">
            <inserter table="table">
                <field name="'username'">#{user.Username}</field>
                <field name="'password'">#{user.Password}</field>
            </inserter>
        </statement>
        <statement type="UPDATE">
            update ${table} set
            username = #{user.Username},
            password = #{user.Password}
            where id = #{user.ID}
        </statement>
    </save>
</mapper>
